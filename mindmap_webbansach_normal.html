<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.8.0/styles/default.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.2/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.2/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.2/dist/index.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Web Bán Sách Trực Tuyến","children":[{"content":"1. Khách Hàng","children":[{"content":"\n<p data-lines=\"4,5\"><strong>1.1. Đăng nhập</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị form đăng nhập với các trường (username, password).","children":[],"payload":{"lines":"6,7"}},{"content":"Người dùng nhập thông tin và nhấn nút \"Đăng nhập\".","children":[],"payload":{"lines":"7,8"}},{"content":"Khi nhấn, Front-end gửi thông tin người dùng (username, password) đến <strong>Back-end</strong> qua một POST request.","children":[],"payload":{"lines":"8,9"}}],"payload":{"lines":"5,9"}},{"content":"<strong>Tham số truyền/nhận</strong>: Không có tham số truyền.","children":[],"payload":{"lines":"9,10"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Nhận thông tin từ Front-end và thực hiện truy vấn để kiểm tra tài khoản (kiểm tra trong bảng <code>users</code>).","children":[],"payload":{"lines":"11,12"}},{"content":"Nếu tài khoản hợp lệ, tạo một session hoặc token và trả về cho Front-end.","children":[],"payload":{"lines":"12,13"}},{"content":"<strong>SQL</strong>: <code>SELECT * FROM users WHERE username = ? AND password = ?</code>","children":[],"payload":{"lines":"13,14"}},{"content":"Trả về thông tin đăng nhập thành công hoặc lỗi nếu không hợp lệ.","children":[],"payload":{"lines":"14,15"}}],"payload":{"lines":"10,15"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Cung cấp session/token để người dùng duy trì trạng thái đăng nhập.","children":[],"payload":{"lines":"16,17"}},{"content":"Nếu thất bại: Gửi thông báo lỗi về Front-end (ví dụ: \"Sai username hoặc password\").","children":[],"payload":{"lines":"17,19"}}],"payload":{"lines":"15,19"}}],"payload":{"lines":"4,19"}},{"content":"\n<p data-lines=\"19,20\"><strong>1.2. Đăng ký</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị form đăng ký yêu cầu nhập (username, email, password).","children":[],"payload":{"lines":"21,22"}},{"content":"Kiểm tra validation dữ liệu đầu vào (kiểm tra username chưa tồn tại, email hợp lệ, mật khẩu đủ mạnh).","children":[],"payload":{"lines":"22,23"}},{"content":"Sau khi kiểm tra, Front-end gửi thông tin tới <strong>Back-end</strong> qua một POST request.","children":[],"payload":{"lines":"23,24"}}],"payload":{"lines":"20,24"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: username, password, email.","children":[],"payload":{"lines":"25,26"}}],"payload":{"lines":"24,26"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Nhận thông tin từ Front-end và kiểm tra sự tồn tại của username trong cơ sở dữ liệu.","children":[],"payload":{"lines":"27,28"}},{"content":"Nếu chưa tồn tại, lưu thông tin người dùng mới vào cơ sở dữ liệu và trả về kết quả.","children":[],"payload":{"lines":"28,29"}},{"content":"<strong>SQL</strong>: <code>INSERT INTO users (username, password, email) VALUES (?, ?, ?)</code>","children":[],"payload":{"lines":"29,30"}}],"payload":{"lines":"26,30"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo đăng ký thành công và có thể tự động đăng nhập hoặc yêu cầu người dùng đăng nhập.","children":[],"payload":{"lines":"31,32"}},{"content":"Nếu thất bại: Gửi lỗi về Front-end (ví dụ: \"Username đã tồn tại\").","children":[],"payload":{"lines":"32,34"}}],"payload":{"lines":"30,34"}}],"payload":{"lines":"19,34"}},{"content":"\n<p data-lines=\"34,35\"><strong>1.3. Tìm kiếm sản phẩm</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị thanh tìm kiếm cho phép người dùng nhập từ khóa.","children":[],"payload":{"lines":"36,37"}},{"content":"Khi người dùng nhập từ khóa và nhấn tìm kiếm, Front-end gửi từ khóa (search_query) đến <strong>Back-end</strong> qua một GET request.","children":[],"payload":{"lines":"37,38"}}],"payload":{"lines":"35,38"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: search_query (từ khóa tìm kiếm).","children":[],"payload":{"lines":"39,40"}}],"payload":{"lines":"38,40"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Nhận từ khóa từ Front-end và thực hiện truy vấn để tìm các sản phẩm phù hợp.","children":[],"payload":{"lines":"41,42"}},{"content":"<strong>SQL</strong>: <code>SELECT * FROM products WHERE name LIKE ?</code>","children":[],"payload":{"lines":"42,43"}},{"content":"Trả về danh sách sản phẩm phù hợp với từ khóa tìm kiếm.","children":[],"payload":{"lines":"43,44"}}],"payload":{"lines":"40,44"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về danh sách các sản phẩm tìm thấy để hiển thị trên giao diện người dùng.","children":[],"payload":{"lines":"45,46"}},{"content":"Nếu không có kết quả: Hiển thị thông báo \"Không tìm thấy sản phẩm\".","children":[],"payload":{"lines":"46,48"}}],"payload":{"lines":"44,48"}}],"payload":{"lines":"34,48"}},{"content":"\n<p data-lines=\"48,49\"><strong>1.4. Thêm sản phẩm vào giỏ hàng</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị nút \"Thêm vào giỏ hàng\" bên cạnh mỗi sản phẩm.","children":[],"payload":{"lines":"50,51"}},{"content":"Khi người dùng nhấn nút, Front-end gửi thông tin sản phẩm (product_id, quantity) đến <strong>Back-end</strong> qua một POST request.","children":[],"payload":{"lines":"51,52"}}],"payload":{"lines":"49,52"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: product_id, quantity.","children":[],"payload":{"lines":"53,54"}}],"payload":{"lines":"52,54"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Nhận thông tin sản phẩm và người dùng từ Front-end.","children":[],"payload":{"lines":"55,56"}},{"content":"Kiểm tra nếu sản phẩm tồn tại và thêm sản phẩm vào giỏ hàng của người dùng trong cơ sở dữ liệu.","children":[],"payload":{"lines":"56,57"}},{"content":"<strong>SQL</strong>: <code>INSERT INTO cart (user_id, product_id, quantity) VALUES (?, ?, ?)</code>","children":[],"payload":{"lines":"57,58"}}],"payload":{"lines":"54,58"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo thành công và cập nhật giỏ hàng.","children":[],"payload":{"lines":"59,60"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: sản phẩm không tồn tại hoặc giỏ hàng đầy).","children":[],"payload":{"lines":"60,62"}}],"payload":{"lines":"58,62"}}],"payload":{"lines":"48,62"}},{"content":"\n<p data-lines=\"62,63\"><strong>1.5. Cập nhật giỏ hàng</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị giỏ hàng với các sản phẩm và số lượng.","children":[],"payload":{"lines":"64,65"}},{"content":"Người dùng có thể thay đổi số lượng sản phẩm trong giỏ hàng.","children":[],"payload":{"lines":"65,66"}},{"content":"Sau khi thay đổi, Front-end gửi yêu cầu cập nhật số lượng đến <strong>Back-end</strong> qua một PUT request.","children":[],"payload":{"lines":"66,67"}}],"payload":{"lines":"63,67"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: cart_id, new_quantity.","children":[],"payload":{"lines":"68,69"}}],"payload":{"lines":"67,69"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Nhận yêu cầu từ Front-end và cập nhật số lượng sản phẩm trong giỏ hàng.","children":[],"payload":{"lines":"70,71"}},{"content":"<strong>SQL</strong>: <code>UPDATE cart SET quantity = ? WHERE user_id = ? AND product_id = ?</code>","children":[],"payload":{"lines":"71,72"}}],"payload":{"lines":"69,72"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Cập nhật giỏ hàng và trả về thông báo thành công.","children":[],"payload":{"lines":"73,74"}},{"content":"Nếu không thành công: Gửi lỗi (ví dụ: giỏ hàng không tồn tại).","children":[],"payload":{"lines":"74,76"}}],"payload":{"lines":"72,76"}}],"payload":{"lines":"62,76"}},{"content":"\n<p data-lines=\"76,77\"><strong>1.6. Xóa sản phẩm trong giỏ hàng</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị danh sách sản phẩm trong giỏ hàng với nút \"Xóa\" cạnh mỗi sản phẩm.","children":[],"payload":{"lines":"78,79"}},{"content":"Khi người dùng nhấn nút \"Xóa\", Front-end gửi yêu cầu xóa sản phẩm tới <strong>Back-end</strong> qua một DELETE request.","children":[],"payload":{"lines":"79,80"}}],"payload":{"lines":"77,80"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: product_id.","children":[],"payload":{"lines":"81,82"}}],"payload":{"lines":"80,82"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Nhận yêu cầu xóa sản phẩm và xóa sản phẩm khỏi giỏ hàng của người dùng.","children":[],"payload":{"lines":"83,84"}},{"content":"<strong>SQL</strong>: <code>DELETE FROM cart WHERE user_id = ? AND product_id = ?</code>","children":[],"payload":{"lines":"84,85"}}],"payload":{"lines":"82,85"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Xóa sản phẩm khỏi giỏ hàng và trả về thông báo thành công.","children":[],"payload":{"lines":"86,87"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: sản phẩm không tồn tại trong giỏ hàng).","children":[],"payload":{"lines":"87,88"}}],"payload":{"lines":"85,88"}}],"payload":{"lines":"76,88"}}],"payload":{"lines":"2,3"}},{"content":"2. Quản Trị Viên","children":[{"content":"2.1. <strong>Đăng nhập</strong>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị form đăng nhập với các trường (username, password).","children":[],"payload":{"lines":"92,93"}},{"content":"Khi người quản trị nhập thông tin và nhấn \"Đăng nhập\", Front-end gửi thông tin đến <strong>Back-end</strong> qua một POST request.","children":[],"payload":{"lines":"93,94"}}],"payload":{"lines":"91,94"}},{"content":"<strong>Tham số truyền/nhận</strong>: Không có tham số truyền.","children":[],"payload":{"lines":"94,95"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Kiểm tra tài khoản và mật khẩu quản trị viên.","children":[],"payload":{"lines":"96,97"}},{"content":"Nếu tài khoản hợp lệ, trả về session hoặc token để quản trị viên duy trì đăng nhập.","children":[],"payload":{"lines":"97,98"}},{"content":"<strong>SQL</strong>: <code>SELECT * FROM users WHERE username = ? AND password = ? AND role = 'admin'</code>","children":[],"payload":{"lines":"98,99"}}],"payload":{"lines":"95,99"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Quản trị viên được cấp quyền truy cập vào hệ thống.","children":[],"payload":{"lines":"100,101"}},{"content":"Nếu thất bại: Gửi lỗi về Front-end (ví dụ: \"Sai username hoặc password\").","children":[],"payload":{"lines":"101,102"}}],"payload":{"lines":"99,102"}}],"payload":{"lines":"90,91"}},{"content":"2.2. <strong>Quản lý sách</strong>","children":[{"content":"\n<p data-lines=\"103,104\"><strong>Thêm sách</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị form nhập thông tin sách (title, author, price, category).","children":[],"payload":{"lines":"105,106"}},{"content":"Người quản trị nhập thông tin và nhấn \"Thêm sách\".","children":[],"payload":{"lines":"106,107"}},{"content":"Gửi thông tin sản phẩm (title, author, price, category_id) đến <strong>Back-end</strong> qua POST request.","children":[],"payload":{"lines":"107,108"}}],"payload":{"lines":"104,108"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: title, author, price, category_id.","children":[],"payload":{"lines":"109,110"}}],"payload":{"lines":"108,110"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Lưu thông tin sách mới vào cơ sở dữ liệu.","children":[],"payload":{"lines":"111,112"}},{"content":"<strong>SQL</strong>: <code>INSERT INTO books (title, author, price, category_id) VALUES (?, ?, ?, ?)</code>","children":[],"payload":{"lines":"112,113"}}],"payload":{"lines":"110,113"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo \"Sách đã được thêm\".","children":[],"payload":{"lines":"114,115"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: thông tin không hợp lệ).","children":[],"payload":{"lines":"115,117"}}],"payload":{"lines":"113,117"}}],"payload":{"lines":"103,117"}},{"content":"\n<p data-lines=\"117,118\"><strong>Sửa sách</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị form sửa thông tin sách đã có với các trường đã điền sẵn.","children":[],"payload":{"lines":"119,120"}},{"content":"<strong>Link truyền ID</strong>: <code>/edit-book?id=book_id</code>","children":[],"payload":{"lines":"120,121"}},{"content":"Sau khi chỉnh sửa, người quản trị nhấn \"Cập nhật\", Front-end gửi thông tin cập nhật (book_id, title, author, price, category_id) đến <strong>Back-end</strong>.","children":[],"payload":{"lines":"121,122"}}],"payload":{"lines":"118,122"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: book_id, title, author, price, category_id.","children":[],"payload":{"lines":"123,124"}}],"payload":{"lines":"122,124"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Cập nhật thông tin sách trong cơ sở dữ liệu.","children":[],"payload":{"lines":"125,126"}},{"content":"<strong>SQL</strong>: <code>UPDATE books SET title = ?, author = ?, price = ?, category_id = ? WHERE book_id = ?</code>","children":[],"payload":{"lines":"126,127"}}],"payload":{"lines":"124,127"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo \"Sách đã được cập nhật\".","children":[],"payload":{"lines":"128,129"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: thông tin không hợp lệ).","children":[],"payload":{"lines":"129,131"}}],"payload":{"lines":"127,131"}}],"payload":{"lines":"117,131"}},{"content":"\n<p data-lines=\"131,132\"><strong>Xóa sách</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị danh sách sách với nút \"Xóa\" bên cạnh mỗi sách.","children":[],"payload":{"lines":"133,134"}},{"content":"Khi người quản trị nhấn nút \"Xóa\", Front-end gửi yêu cầu xóa sản phẩm (book_id) tới <strong>Back-end</strong> qua một DELETE request.","children":[],"payload":{"lines":"134,135"}}],"payload":{"lines":"132,135"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: book_id.","children":[],"payload":{"lines":"136,137"}}],"payload":{"lines":"135,137"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Xóa sách khỏi cơ sở dữ liệu.","children":[],"payload":{"lines":"138,139"}},{"content":"<strong>SQL</strong>: <code>DELETE FROM books WHERE book_id = ?</code>","children":[],"payload":{"lines":"139,140"}}],"payload":{"lines":"137,140"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo \"Sách đã được xóa\".","children":[],"payload":{"lines":"141,142"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: sản phẩm không tồn tại).","children":[],"payload":{"lines":"142,144"}}],"payload":{"lines":"140,144"}}],"payload":{"lines":"131,144"}}],"payload":{"lines":"102,103"}},{"content":"2.3. <strong>Quản lý danh mục sản phẩm</strong>","children":[{"content":"\n<p data-lines=\"145,146\"><strong>Thêm danh mục</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị form nhập thông tin danh mục (category_name).","children":[],"payload":{"lines":"147,148"}},{"content":"Người quản trị nhập thông tin và nhấn \"Thêm danh mục\".","children":[],"payload":{"lines":"148,149"}},{"content":"Gửi thông tin danh mục (category_name) đến <strong>Back-end</strong> qua POST request.","children":[],"payload":{"lines":"149,150"}}],"payload":{"lines":"146,150"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: category_name.","children":[],"payload":{"lines":"151,152"}}],"payload":{"lines":"150,152"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Lưu thông tin danh mục mới vào cơ sở dữ liệu.","children":[],"payload":{"lines":"153,154"}},{"content":"<strong>SQL</strong>: <code>INSERT INTO categories (category_name) VALUES (?)</code>","children":[],"payload":{"lines":"154,155"}}],"payload":{"lines":"152,155"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo \"Danh mục đã được thêm\".","children":[],"payload":{"lines":"156,157"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: tên danh mục đã tồn tại).","children":[],"payload":{"lines":"157,159"}}],"payload":{"lines":"155,159"}}],"payload":{"lines":"145,159"}},{"content":"\n<p data-lines=\"159,160\"><strong>Sửa danh mục</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị danh sách các danh mục và nút \"Sửa\" bên cạnh mỗi danh mục.","children":[],"payload":{"lines":"161,162"}},{"content":"Khi người quản trị nhấn \"Sửa\", hiển thị form chỉnh sửa và gửi thông tin danh mục mới (category_id, new_category_name) tới <strong>Back-end</strong> qua PUT request.","children":[],"payload":{"lines":"162,163"}}],"payload":{"lines":"160,163"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: category_id, new_category_name.","children":[],"payload":{"lines":"164,165"}}],"payload":{"lines":"163,165"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Cập nhật thông tin danh mục trong cơ sở dữ liệu.","children":[],"payload":{"lines":"166,167"}},{"content":"<strong>SQL</strong>: <code>UPDATE categories SET category_name = ? WHERE category_id = ?</code>","children":[],"payload":{"lines":"167,168"}}],"payload":{"lines":"165,168"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo \"Danh mục đã được cập nhật\".","children":[],"payload":{"lines":"169,170"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: tên danh mục không hợp lệ).","children":[],"payload":{"lines":"170,172"}}],"payload":{"lines":"168,172"}}],"payload":{"lines":"159,172"}},{"content":"\n<p data-lines=\"172,173\"><strong>Xóa danh mục</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị danh sách các danh mục với nút \"Xóa\" bên cạnh mỗi danh mục.","children":[],"payload":{"lines":"174,175"}},{"content":"Khi người quản trị nhấn nút \"Xóa\", Front-end gửi yêu cầu xóa danh mục (category_id) tới <strong>Back-end</strong> qua DELETE request.","children":[],"payload":{"lines":"175,176"}}],"payload":{"lines":"173,176"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: category_id.","children":[],"payload":{"lines":"177,178"}}],"payload":{"lines":"176,178"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Xóa danh mục khỏi cơ sở dữ liệu.","children":[],"payload":{"lines":"179,180"}},{"content":"<strong>SQL</strong>: <code>DELETE FROM categories WHERE category_id = ?</code>","children":[],"payload":{"lines":"180,181"}}],"payload":{"lines":"178,181"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo \"Danh mục đã được xóa\".","children":[],"payload":{"lines":"182,183"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: danh mục không tồn tại).","children":[],"payload":{"lines":"183,184"}}],"payload":{"lines":"181,184"}}],"payload":{"lines":"172,184"}}],"payload":{"lines":"144,145"}},{"content":"2.4. <strong>Quản lý đơn hàng</strong>","children":[{"content":"\n<p data-lines=\"185,186\"><strong>Hiển thị danh sách đơn hàng</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị danh sách đơn hàng bao gồm thông tin khách hàng, sản phẩm đã đặt, số lượng, trạng thái đơn hàng.","children":[],"payload":{"lines":"187,188"}},{"content":"Khi người quản trị chọn một đơn hàng, Front-end gửi yêu cầu lấy chi tiết đơn hàng tới <strong>Back-end</strong> qua GET request.","children":[],"payload":{"lines":"188,189"}}],"payload":{"lines":"186,189"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: order_id.","children":[],"payload":{"lines":"190,191"}}],"payload":{"lines":"189,191"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Truy vấn cơ sở dữ liệu để lấy thông tin chi tiết đơn hàng.","children":[],"payload":{"lines":"192,193"}},{"content":"<strong>SQL</strong>: <code>SELECT * FROM orders WHERE order_id = ?</code>","children":[],"payload":{"lines":"193,194"}}],"payload":{"lines":"191,194"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Trả về thông tin chi tiết đơn hàng, bao gồm các sản phẩm và số lượng.","children":[],"payload":{"lines":"195,197"}}],"payload":{"lines":"194,197"}}],"payload":{"lines":"185,197"}},{"content":"\n<p data-lines=\"197,198\"><strong>Cập nhật trạng thái đơn hàng</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị trạng thái đơn hàng (chưa xử lý, đang vận chuyển, đã hoàn tất).","children":[],"payload":{"lines":"199,200"}},{"content":"Người quản trị có thể thay đổi trạng thái và nhấn \"Cập nhật\".","children":[],"payload":{"lines":"200,201"}},{"content":"Gửi trạng thái mới (order_id, new_status) tới <strong>Back-end</strong> qua PUT request.","children":[],"payload":{"lines":"201,202"}}],"payload":{"lines":"198,202"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: order_id, new_status.","children":[],"payload":{"lines":"203,204"}}],"payload":{"lines":"202,204"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Cập nhật trạng thái đơn hàng trong cơ sở dữ liệu.","children":[],"payload":{"lines":"205,206"}},{"content":"<strong>SQL</strong>: <code>UPDATE orders SET status = ? WHERE order_id = ?</code>","children":[],"payload":{"lines":"206,207"}}],"payload":{"lines":"204,207"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo \"Trạng thái đơn hàng đã được cập nhật\".","children":[],"payload":{"lines":"208,209"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: không tìm thấy đơn hàng).","children":[],"payload":{"lines":"209,211"}}],"payload":{"lines":"207,211"}}],"payload":{"lines":"197,211"}},{"content":"\n<p data-lines=\"211,212\"><strong>Hủy đơn hàng</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị danh sách đơn hàng và nút \"Hủy\" bên cạnh mỗi đơn hàng chưa xử lý.","children":[],"payload":{"lines":"213,214"}},{"content":"Khi người quản trị nhấn \"Hủy\", Front-end gửi yêu cầu hủy đơn hàng (order_id) tới <strong>Back-end</strong> qua DELETE request.","children":[],"payload":{"lines":"214,215"}}],"payload":{"lines":"212,215"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: order_id.","children":[],"payload":{"lines":"216,217"}}],"payload":{"lines":"215,217"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Cập nhật trạng thái đơn hàng thành \"Đã hủy\" trong cơ sở dữ liệu.","children":[],"payload":{"lines":"218,219"}},{"content":"<strong>SQL</strong>: <code>UPDATE orders SET status = 'Canceled' WHERE order_id = ? AND status = 'Pending'</code>","children":[],"payload":{"lines":"219,220"}}],"payload":{"lines":"217,220"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo \"Đơn hàng đã được hủy\".","children":[],"payload":{"lines":"221,222"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: đơn hàng đã được xử lý).","children":[],"payload":{"lines":"222,223"}}],"payload":{"lines":"220,223"}}],"payload":{"lines":"211,223"}}],"payload":{"lines":"184,185"}},{"content":"2.6. <strong>Báo cáo thống kê</strong>","children":[{"content":"\n<p data-lines=\"224,225\"><strong>Thống kê doanh thu theo ngày/tháng/năm</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị các biểu đồ hoặc bảng thông tin thống kê doanh thu trong một khoảng thời gian cụ thể (chọn từ ngày, tháng, năm).","children":[],"payload":{"lines":"226,227"}},{"content":"Người quản trị chọn khoảng thời gian cần thống kê và nhấn \"Xem báo cáo\".","children":[],"payload":{"lines":"227,228"}},{"content":"Gửi yêu cầu thống kê (start_date, end_date) tới <strong>Back-end</strong> qua GET request.","children":[],"payload":{"lines":"228,229"}}],"payload":{"lines":"225,229"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: start_date, end_date (ngày bắt đầu và kết thúc).","children":[],"payload":{"lines":"230,231"}}],"payload":{"lines":"229,231"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Truy vấn tổng doanh thu trong khoảng thời gian đã chọn.","children":[],"payload":{"lines":"232,233"}},{"content":"<strong>SQL</strong>: <code>SELECT SUM(total_amount) FROM orders WHERE order_date BETWEEN ? AND ?</code>","children":[],"payload":{"lines":"233,234"}}],"payload":{"lines":"231,234"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Trả về tổng doanh thu trong khoảng thời gian yêu cầu.","children":[],"payload":{"lines":"235,236"}},{"content":"Có thể hiển thị dưới dạng biểu đồ hoặc bảng.","children":[],"payload":{"lines":"236,238"}}],"payload":{"lines":"234,238"}}],"payload":{"lines":"224,238"}},{"content":"\n<p data-lines=\"238,239\"><strong>Thống kê số lượng sản phẩm bán được</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị số lượng sản phẩm bán được theo từng loại sản phẩm hoặc theo danh mục.","children":[],"payload":{"lines":"240,241"}},{"content":"Người quản trị chọn một khoảng thời gian và nhấn \"Xem thống kê\".","children":[],"payload":{"lines":"241,242"}},{"content":"Gửi yêu cầu thống kê số lượng sản phẩm (start_date, end_date) tới <strong>Back-end</strong> qua GET request.","children":[],"payload":{"lines":"242,243"}}],"payload":{"lines":"239,243"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: start_date, end_date.","children":[],"payload":{"lines":"244,245"}}],"payload":{"lines":"243,245"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Truy vấn số lượng sản phẩm đã bán trong khoảng thời gian đã chọn.","children":[],"payload":{"lines":"246,247"}},{"content":"<strong>SQL</strong>:<pre><code class=\"language-sql\"><span class=\"hljs-keyword\">SELECT</span> product_id, <span class=\"hljs-built_in\">SUM</span>(quantity) <span class=\"hljs-keyword\">AS</span> total_sold \n<span class=\"hljs-keyword\">FROM</span> order_items \n<span class=\"hljs-keyword\">WHERE</span> order_date <span class=\"hljs-keyword\">BETWEEN</span> ? <span class=\"hljs-keyword\">AND</span> ? \n<span class=\"hljs-keyword\">GROUP</span> <span class=\"hljs-keyword\">BY</span> product_id\n</code></pre>","children":[],"payload":{"lines":"247,254"}}],"payload":{"lines":"245,254"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Trả về danh sách các sản phẩm cùng số lượng đã bán được.","children":[],"payload":{"lines":"255,257"}}],"payload":{"lines":"254,257"}}],"payload":{"lines":"238,257"}},{"content":"\n<p data-lines=\"257,258\"><strong>Thống kê đơn hàng theo trạng thái</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị tổng số đơn hàng theo từng trạng thái (chưa xử lý, đang vận chuyển, đã hoàn tất).","children":[],"payload":{"lines":"259,260"}},{"content":"Người quản trị có thể chọn trạng thái đơn hàng và xem báo cáo.","children":[],"payload":{"lines":"260,261"}},{"content":"Gửi yêu cầu thống kê trạng thái đơn hàng (status) tới <strong>Back-end</strong> qua GET request.","children":[],"payload":{"lines":"261,262"}}],"payload":{"lines":"258,262"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: status (chưa xử lý, đang vận chuyển, đã hoàn tất).","children":[],"payload":{"lines":"263,264"}}],"payload":{"lines":"262,264"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Truy vấn số lượng đơn hàng theo từng trạng thái.","children":[],"payload":{"lines":"265,266"}},{"content":"<strong>SQL</strong>: <code>SELECT status, COUNT(*) AS total_orders FROM orders WHERE status = ? GROUP BY status</code>","children":[],"payload":{"lines":"266,267"}}],"payload":{"lines":"264,267"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Trả về số lượng đơn hàng theo trạng thái đã chọn.","children":[],"payload":{"lines":"268,270"}}],"payload":{"lines":"267,270"}}],"payload":{"lines":"257,270"}}],"payload":{"lines":"223,224"}},{"content":"2.7. <strong>Tìm kiếm và lọc báo cáo</strong>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Cho phép người quản trị tìm kiếm báo cáo theo từ khóa, danh mục hoặc ngày tháng.","children":[],"payload":{"lines":"272,273"}},{"content":"Gửi thông tin tìm kiếm (keywords, category_id, date_range) tới <strong>Back-end</strong> qua GET request.","children":[],"payload":{"lines":"273,274"}}],"payload":{"lines":"271,274"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: keywords, category_id, date_range.","children":[],"payload":{"lines":"275,276"}}],"payload":{"lines":"274,276"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Truy vấn dữ liệu báo cáo theo các tham số tìm kiếm.","children":[],"payload":{"lines":"277,278"}},{"content":"<strong>SQL</strong>:<pre><code class=\"language-sql\"><span class=\"hljs-keyword\">SELECT</span> <span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">FROM</span> orders \n<span class=\"hljs-keyword\">WHERE</span> product_name <span class=\"hljs-keyword\">LIKE</span> ? \n<span class=\"hljs-keyword\">AND</span> category_id <span class=\"hljs-operator\">=</span> ? \n<span class=\"hljs-keyword\">AND</span> order_date <span class=\"hljs-keyword\">BETWEEN</span> ? <span class=\"hljs-keyword\">AND</span> ?\n</code></pre>","children":[],"payload":{"lines":"278,285"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Trả về danh sách đơn hàng hoặc sản phẩm theo yêu cầu tìm kiếm.","children":[],"payload":{"lines":"286,287"}}],"payload":{"lines":"285,287"}}],"payload":{"lines":"276,287"}}],"payload":{"lines":"270,271"}},{"content":"2.5. <strong>Quản lý người dùng</strong>","children":[{"content":"\n<p data-lines=\"288,289\"><strong>Hiển thị danh sách người dùng</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị danh sách người dùng, bao gồm thông tin cá nhân (username, email, vai trò).","children":[],"payload":{"lines":"290,291"}}],"payload":{"lines":"289,291"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Truy vấn cơ sở dữ liệu để lấy thông tin người dùng.","children":[],"payload":{"lines":"292,293"}},{"content":"<strong>SQL</strong>: <code>SELECT * FROM users</code>","children":[],"payload":{"lines":"293,294"}}],"payload":{"lines":"291,294"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Trả về danh sách người dùng.","children":[],"payload":{"lines":"295,297"}}],"payload":{"lines":"294,297"}}],"payload":{"lines":"288,297"}},{"content":"\n<p data-lines=\"297,298\"><strong>Cập nhật quyền người dùng</strong></p>","children":[{"content":"<strong>Front-end</strong>:","children":[{"content":"Hiển thị danh sách người dùng với nút \"Cập nhật quyền\" bên cạnh mỗi người dùng.","children":[],"payload":{"lines":"299,300"}},{"content":"Khi người quản trị nhấn \"Cập nhật quyền\", Front-end hiển thị form chọn quyền (admin, user) và gửi thông tin người dùng mới tới <strong>Back-end</strong> qua PUT request.","children":[],"payload":{"lines":"300,301"}}],"payload":{"lines":"298,301"}},{"content":"<strong>Tham số truyền/nhận</strong>:","children":[{"content":"<strong>Truyền</strong>: user_id, new_role.","children":[],"payload":{"lines":"302,303"}}],"payload":{"lines":"301,303"}},{"content":"<strong>Back-end</strong>:","children":[{"content":"Cập nhật quyền người dùng trong cơ sở dữ liệu.","children":[],"payload":{"lines":"304,305"}},{"content":"<strong>SQL</strong>: <code>UPDATE users SET role = ? WHERE user_id = ?</code>","children":[],"payload":{"lines":"305,306"}}],"payload":{"lines":"303,306"}},{"content":"<strong>Kết quả</strong>:","children":[{"content":"Nếu thành công: Trả về thông báo \"Quyền người dùng đã được cập nhật\".","children":[],"payload":{"lines":"307,308"}},{"content":"Nếu thất bại: Gửi lỗi (ví dụ: người dùng không tồn tại).","children":[],"payload":{"lines":"308,309"}}],"payload":{"lines":"306,309"}}],"payload":{"lines":"297,309"}}],"payload":{"lines":"287,288"}}],"payload":{"lines":"88,89"}}],"payload":{"lines":"0,1"}},{})</script>
</body>
</html>
